<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Icon Generator</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; background: #f3f4f6; }
        .container { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; }
        h1 { color: #2563eb; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        .card { border: 1px solid #e5e7eb; padding: 15px; border-radius: 10px; display: flex; flex-direction: column; align-items: center; }
        canvas { border: 1px dashed #ccc; margin-bottom: 10px; background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><rect width="5" height="5" fill="%23eee"/><rect x="5" y="5" width="5" height="5" fill="%23eee"/></svg>'); }
        button { background: #2563eb; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; transition: 0.2s; }
        button:hover { background: #1d4ed8; }
        p { font-size: 12px; color: #666; margin-top: 5px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ماشین تبدیل آیکون لوکس شاپ</h1>
    <p>روی دکمه‌های زیر کلیک کنید تا آیکون‌ها دانلود شوند.</p>

    <!-- این SVG مخفی است و فقط برای سورس استفاده میشود -->
    <img id="sourceSvg" style="display:none;" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjU2M2ViIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+CiAgPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiByeD0iNSIgZmlsbD0id2hpdGUiLz4KICA8cGF0aCBkPSJNNiA5bDYtNyA2IDctNiAxMy02LTEzeiIgZmlsbD0iI2VmZjZmZiIgLz4KICA8cGF0aCBkPSJNNiA5aDEyIiAvPgogIDxwYXRoIGQ9Ik0xMiAydjIwIiAvPgo8L3N2Zz4=" />

    <div class="grid">
        <!-- 32x32 -->
        <div class="card">
            <canvas id="c32" width="32" height="32"></canvas>
            <button onclick="download('c32', 'favicon.ico')">دانلود favicon.ico</button>
            <p>مخصوص تب مرورگر</p>
        </div>

        <!-- 180x180 -->
        <div class="card">
            <canvas id="c180" width="180" height="180"></canvas>
            <button onclick="download('c180', 'apple-icon.png')">دانلود apple-icon.png</button>
            <p>مخصوص آیفون</p>
        </div>

        <!-- 192x192 -->
        <div class="card">
            <canvas id="c192" width="192" height="192"></canvas>
            <button onclick="download('c192', 'icon-192.png')">دانلود icon-192.png</button>
            <p>مخصوص اندروید و PWA</p>
        </div>

        <!-- 512x512 -->
        <div class="card">
            <canvas id="c512" width="512" height="512"></canvas>
            <button onclick="download('c512', 'icon-512.png')">دانلود icon-512.png</button>
            <p>مخصوص گوگل و استورها</p>
        </div>
    </div>
</div>

<script>
    window.onload = function() {
        const img = document.getElementById('sourceSvg');
        
        // لیست سایزهایی که باید بکشیم
        const sizes = [
            { id: 'c32', size: 32 },
            { id: 'c180', size: 180 },
            { id: 'c192', size: 192 },
            { id: 'c512', size: 512 }
        ];

        sizes.forEach(item => {
            const canvas = document.getElementById(item.id);
            const ctx = canvas.getContext('2d');
            // پاک کردن بوم
            ctx.clearRect(0, 0, item.size, item.size);
            // رسم تصویر SVG روی بوم با سایز جدید
            ctx.drawImage(img, 0, 0, item.size, item.size);
        });
    };

    function download(canvasId, fileName) {
        const canvas = document.getElementById(canvasId);
        const link = document.createElement('a');
        
        // اگر فرمت ico خواستیم، چون کانواس ico واقعی نمیده، png میدیم ولی اسمشو ico میذاریم (مرورگرها قبول میکنن)
        // یا میتونیم کلا png ذخیره کنیم. اینجا png ذخیره میکنیم که استانداردتره.
        
        link.download = fileName;
        link.href = canvas.toDataURL('image/png');
        link.click();
    }
</script>

</body>
</html>